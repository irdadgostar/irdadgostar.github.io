 

<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>تعالی همدلی | سامانه مشارکت‌های مردمی</title>
  
  <!-- فونت وزیرمتن -->
  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
  <!-- آیکون‌ها -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- بوت‌استرپ -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css">
  <!-- آلرت‌ها -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <style>
    :root {
      --primary: #0f172a; /* سرمه‌ای بسیار تیره و رسمی */
      --accent: #ca8a04; /* طلایی پخته */
      --bg-body: #f8fafc;
      --text-main: #334155;
      --card-bg: #ffffff;
    }

    body {
      font-family: 'Vazirmatn', sans-serif;
      background-color: var(--bg-body);
      color: var(--text-main);
      line-height: 1.8;
      overflow-x: hidden;
    }

    /* هدر */
    .hero {
      background: linear-gradient(180deg, var(--primary) 0%, #1e293b 100%);
      color: white;
      padding: 4rem 1rem 7rem 1rem;
      text-align: center;
      border-radius: 0 0 50px 50px;
      position: relative;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.2);
    }

    /* پترن پس‌زمینه */
    .hero::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    }

    .brand-title {
      font-weight: 900;
      font-size: 2.5rem;
      letter-spacing: -1px;
      margin-bottom: 0.5rem;
      color: #f1f5f9;
      text-shadow: 0 4px 6px rgba(0,0,0,0.3);
    }

    .brand-subtitle {
      font-weight: 300;
      opacity: 0.9;
      font-size: 1.1rem;
      color: #cbd5e1;
    }

    /* کارت اصلی */
    .main-container {
      max-width: 750px;
      margin: -5rem auto 2rem auto;
      padding: 0 15px;
      position: relative;
      z-index: 10;
    }

    .glass-card {
      background: var(--card-bg);
      border-radius: 24px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.08);
      border: 1px solid rgba(255,255,255,0.8);
      overflow: hidden;
    }

    /* تب‌ها */
    .nav-tabs {
      border-bottom: 1px solid #e2e8f0;
      background: #f1f5f9;
    }

    .nav-link {
      color: #64748b;
      font-weight: 700;
      padding: 1.2rem 1rem;
      border: none;
      border-bottom: 4px solid transparent;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .nav-link.active {
      color: var(--primary);
      background: #fff;
      border-bottom-color: var(--accent);
    }

    .nav-link:hover:not(.active) {
      color: var(--primary);
      background-color: #e2e8f0;
    }

    .nav-link i {
      font-size: 1.2em;
    }

    /* محتوا */
    .content-area {
      padding: 2.5rem;
      animation: fadeIn 0.5s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .section-title {
      font-weight: 800;
      color: var(--primary);
      margin-bottom: 1.5rem;
      font-size: 1.5rem;
      text-align: center;
    }

    .emotional-text {
      font-size: 1.05rem;
      color: #475569;
      margin-bottom: 2.5rem;
      text-align: justify;
      line-height: 2;
    }

    .highlight {
      color: var(--accent);
      font-weight: 800;
      border-bottom: 2px solid rgba(202, 138, 4, 0.2);
    }

    /* دکمه‌ها و فیلدها */
    .form-control, .form-select {
      padding: 14px;
      border-radius: 12px;
      border: 1px solid #cbd5e1;
      background: #fff;
      font-size: 0.95rem;
      transition: 0.2s;
    }

    .form-control:focus, .form-select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 4px rgba(15, 23, 42, 0.1);
    }

    .form-label {
      font-weight: 700;
      font-size: 0.9rem;
      color: var(--primary);
      margin-bottom: 8px;
    }

    .btn-cta {
      background: linear-gradient(135deg, var(--primary) 0%, #334155 100%);
      color: white;
      width: 100%;
      padding: 16px;
      border-radius: 14px;
      font-weight: 800;
      font-size: 1.1rem;
      border: none;
      box-shadow: 0 10px 20px rgba(15, 23, 42, 0.15);
      transition: transform 0.2s, box-shadow 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .btn-cta:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 30px rgba(15, 23, 42, 0.25);
      color: #fff;
    }

    /* آیکون مالی بزرگ */
    .cash-icon-container {
      background: #ecfdf5;
      width: 100px;
      height: 100px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 1.5rem auto;
      border: 2px solid #10b981;
    }

    /* باکس‌های هشدار */
    .dignity-box {
      background: #fffbeb;
      border: 1px solid #fcd34d;
      border-radius: 12px;
      padding: 15px;
      font-size: 0.9rem;
      color: #92400e;
      margin-bottom: 25px;
      display: flex;
      align-items: flex-start;
      gap: 12px;
      line-height: 1.6;
    }

    /* فوتر */
    .footer {
      text-align: center;
      padding: 3rem 1rem;
      color: #64748b;
      font-size: 0.9rem;
    }

    .footer strong {
      display: block;
      color: var(--primary);
      font-size: 1.1rem;
      margin-bottom: 5px;
    }

    .footer a {
      color: var(--text-main);
      text-decoration: none;
      transition: 0.2s;
      border-bottom: 1px dashed #94a3b8;
    }
    
    .footer a:hover {
      color: var(--accent);
      border-bottom-style: solid;
    }

    .contact-info {
      margin-top: 20px;
      display: flex;
      justify-content: center;
      gap: 25px;
      flex-wrap: wrap;
    }
    
    .contact-item {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* ریسپانسیو */
    @media (max-width: 576px) {
      .content-area { padding: 1.5rem; }
      .brand-title { font-size: 2rem; }
      .contact-info { flex-direction: column; gap: 12px; }
      .nav-link { font-size: 0.9rem; padding: 1rem 0.5rem; }
    }
  </style>
</head>
<body>

  <!-- هدر -->
  <header class="hero">
    <div class="container">
      <h1 class="brand-title">تعالی همدلی</h1>
      <p class="brand-subtitle">سامانه هوشمند مشارکت‌های مردمی</p>
    </div>
  </header>

  <!-- کانتینر اصلی -->
  <div class="main-container">
    <div class="glass-card">
      
      <!-- تب‌ها -->
      <ul class="nav nav-tabs nav-fill" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="cash-tab" data-bs-toggle="tab" data-bs-target="#cash-pane" type="button">
            <i class="fas fa-hand-holding-heart"></i> حمایت نقدی
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="goods-tab" data-bs-toggle="tab" data-bs-target="#goods-pane" type="button">
            <i class="fas fa-gift"></i> اهدای کالا
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="skills-tab" data-bs-toggle="tab" data-bs-target="#skills-pane" type="button">
            <i class="fas fa-briefcase"></i> نذر تخصص
          </button>
        </li>
      </ul>

      <!-- محتوای تب‌ها -->
      <div class="tab-content" id="myTabContent">
        
        <!-- ۱. تب حمایت نقدی -->
        <div class="tab-pane fade show active" id="cash-pane" role="tabpanel">
          <div class="content-area text-center">
            
            <div class="mb-4">
               <!-- آیکونی شبیه به طراحی قبلی که خواستی -->
               <img src="https://cdn-icons-png.flaticon.com/512/2953/2953363.png" width="90" alt="Donate">
            </div>

            <h2 class="section-title">قطره‌قطره جمع گردد...</h2>
            
            <p class="emotional-text text-center">
              همراه عزیز، گاهی تصور می‌کنیم برای کار خیر باید مبالغ هنگفتی داشته باشیم. اما در <strong>تعالی همدلی</strong>، باور داریم که 
              <span class="highlight">هر محبت کوچکی، معجزه‌ای بزرگ است.</span>
              <br><br>
              شاید مبلغی که برای خرید یک <strong>قرص نان</strong>، یک <strong>کلاه گرم</strong>، یا حتی یک <strong>کیلو عدس</strong> هزینه می‌شود برای ما ناچیز باشد؛ اما همین مبلغ می‌تواند سفره‌ای خالی را رنگین کند.
              <br>
              بدون نیاز به ثبت نام، همین حالا در این زنجیره مهربانی سهیم باشید.
            </p>

            <button onclick="handleCashClick()" class="btn-cta">
              پرداخت و همدلی <i class="fas fa-chevron-left"></i>
            </button>
          </div>
        </div>

        <!-- ۲. تب اهدای کالا -->
        <div class="tab-pane fade" id="goods-pane" role="tabpanel">
          <div class="content-area">
            
            <div class="text-center mb-4">
               <!-- آیکون مرتبط -->
               <img src="https://cdn-icons-png.flaticon.com/512/4521/4521931.png" width="70" alt="Gift">
            </div>

            <h2 class="section-title">اهدای کالا و اقلام</h2>
            
            <div class="dignity-box">
              <i class="fas fa-heart mt-1 text-warning"></i>
              <div>
                <strong>حفظ کرامت انسانی اولویت ماست:</strong>
                <br>
                لطفاً اقلام اهدایی (پوشاک، لوازم منزل و...) حتماً <strong>نو</strong> یا <strong>در حد نو، کاملاً سالم و تمیز</strong> باشند. بیایید آنچه را که برای عزیزان خود می‌پسندیم، هدیه دهیم.
              </div>
            </div>

            <form id="form-goods" onsubmit="handleFormSubmit(event, 'goods')">
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">نام و نام خانوادگی</label>
                  <input type="text" class="form-control" name="name" required placeholder="نام شریف شما">
                </div>
                <div class="col-md-6">
                  <label class="form-label">شماره همراه (جهت هماهنگی)</label>
                  <input type="tel" class="form-control" name="phone" required pattern="[0-9]{11}" placeholder="09xxxxxxxxx">
                </div>
                <div class="col-12">
                  <label class="form-label">دسته‌بندی کالا</label>
                  <select class="form-select" name="category" required>
                    <option value="" selected disabled>انتخاب کنید...</option>
                    <option value="ارزاق و مواد غذایی">ارزاق و مواد غذایی (خشکبار، برنج، روغن...)</option>
                    <option value="پوشاک و البسه">پوشاک و البسه (مناسب فصل)</option>
                    <option value="لوازم خانگی">لوازم خانگی ضروری</option>
                    <option value="لوازم تحریر">لوازم تحریر و آموزشی</option>
                    <option value="تجهیزات درمانی">دارو و تجهیزات درمانی</option>
                    <option value="سایر">سایر موارد</option>
                  </select>
                </div>
                <div class="col-12">
                  <label class="form-label">توضیحات کالا و محدوده آدرس</label>
                  <textarea class="form-control" name="desc" rows="3" required placeholder="لطفاً توضیح مختصری درباره اقلام و محدوده آدرس خود بنویسید"></textarea>
                </div>
              </div>
              <button type="submit" class="btn-cta mt-4">ثبت جهت هماهنگی دریافت <i class="fas fa-check"></i></button>
            </form>
          </div>
        </div>

        <!-- ۳. تب نذر تخصص -->
        <div class="tab-pane fade" id="skills-pane" role="tabpanel">
          <div class="content-area">
            
            <div class="text-center mb-4">
               <!-- آیکون مرتبط -->
               <img src="https://cdn-icons-png.flaticon.com/512/3281/3281306.png" width="70" alt="Skill">
            </div>

            <h2 class="section-title">نذر تخصص و مهارت</h2>
            <p class="emotional-text mb-4 text-center">
              بزرگترین سرمایه، دانش و مهارت شماست. اگر پزشک، معلم، وکیل، مشاور، فنی‌کار یا هنرمند هستید، می‌توانید با اهدای ساعاتی از وقت خود، گره‌ای از کار نیازمندان باز کنید.
            </p>

            <form id="form-skills" onsubmit="handleFormSubmit(event, 'skills')">
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">نام و نام خانوادگی</label>
                  <input type="text" class="form-control" name="name" required>
                </div>
                <div class="col-md-6">
                  <label class="form-label">شماره تماس</label>
                  <input type="tel" class="form-control" name="phone" required placeholder="09xxxxxxxxx">
                </div>
                <div class="col-12">
                  <label class="form-label">عنوان تخصص / مهارت</label>
                  <input type="text" class="form-control" name="expertise" required placeholder="مثال: دندانپزشک، تاسیسات، تدریس ریاضی...">
                </div>
                <div class="col-12">
                  <label class="form-label">روزها و ساعات امکان همکاری</label>
                  <input type="text" class="form-control" name="availability" required placeholder="مثال: پنجشنبه‌ها عصر">
                </div>
              </div>
              <button type="submit" class="btn-cta mt-4">اعلام آمادگی همکاری <i class="fas fa-hand-shake"></i></button>
            </form>
          </div>
        </div>

      </div>
    </div>

    <!-- فوتر -->
    <footer class="footer">
      <strong>موسسه تعالی اندیشه و رشد</strong>
      <p class="mb-3 opacity-75">تلاش برای ساختن دنیایی مهربان‌تر</p>
      
      <div class="contact-info">
        <div class="contact-item">
          <i class="fas fa-map-marker-alt" style="color: var(--accent);"></i>
          <span>تهران، [آدرس دقیق خود را اینجا بنویسید]</span>
        </div>
        <div class="contact-item">
          <i class="fas fa-phone-alt" style="color: var(--accent);"></i>
          <span>[شماره تماس]</span>
        </div>
        <div class="contact-item">
          <i class="fas fa-globe" style="color: var(--accent);"></i>
          <a href="https://tashacol.ir" target="_blank">tashacol.ir</a>
        </div>
      </div>
    </footer>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // ----------------------------------------------------
    // تابع دکمه پرداخت (بدون فرم، مستقیم به درگاه)
    // ----------------------------------------------------
    function handleCashClick() {
      // نمایش لودینگ زیبا
      Swal.fire({
        title: 'در حال انتقال...',
        text: 'سپاس از قلب مهربان شما. در حال اتصال به درگاه امن بانکی.',
        icon: 'info',
        showConfirmButton: false,
        timer: 4000, // زمان احتیاطی
        timerProgressBar: true,
        allowOutsideClick: false,
        didOpen: () => {
          Swal.showLoading();
        }
      });

      // ارسال درخواست به سرور (Google Apps Script)
      const formData = { type: 'cash' };
      
      google.script.run
        .withSuccessHandler((response) => {
          if (response.status === 'success' && response.redirectUrl) {
            // هدایت کاربر به لینک پرداخت
            window.location.href = response.redirectUrl;
          } else {
            Swal.fire('خطا', 'لینک پرداخت یافت نشد.', 'error');
          }
        })
        .withFailureHandler((error) => {
          Swal.fire('خطا', 'مشکل در برقراری ارتباط.', 'error');
        })
        .processForm(formData);
    }

    // ----------------------------------------------------
    // تابع ارسال فرم‌های کالا و تخصص
    // ----------------------------------------------------
    function handleFormSubmit(e, type) {
      e.preventDefault();
      
      const form = document.getElementById('form-' + type);
      const submitBtn = form.querySelector('button[type="submit"]');
      const originalBtnText = submitBtn.innerHTML;

      // تغییر دکمه به حالت لودینگ
      submitBtn.disabled = true;
      submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> لطفا صبر کنید...';

      // جمع‌آوری داده‌ها
      const formData = { type: type };
      new FormData(form).forEach((value, key) => formData[key] = value);

      google.script.run
        .withSuccessHandler((response) => {
          submitBtn.disabled = false;
          submitBtn.innerHTML = originalBtnText;

          if (response.status === 'success') {
            Swal.fire({
              icon: 'success',
              title: 'ثبت موفق',
              text: response.message,
              confirmButtonText: 'سپاس',
              confirmButtonColor: '#0f172a'
            });
            form.reset();
          } else {
            Swal.fire({
              icon: 'error',
              title: 'خطا',
              text: 'متاسفانه مشکلی پیش آمد.'
            });
          }
        })
        .withFailureHandler((error) => {
          submitBtn.disabled = false;
          submitBtn.innerHTML = originalBtnText;
          Swal.fire({
            icon: 'error',
            title: 'خطای ارتباط',
            text: 'لطفا اتصال اینترنت را بررسی کنید.'
          });
        })
        .processForm(formData);
    }
  </script>
</body>
</html>
